import java.awt.Color
import java.awt.Dimension
import java.awt.Font
import java.awt.FontMetrics
import java.awt.Graphics
import java.awt.Toolkit
import java.awt.event.KeyAdapter
import java.awt.event.KeyEvent

import java.util.ArrayList
import java.util.Iterator
import java.util.Random

import javax.swing.ImageIcon
import javax.swing.JPanel

class Board extends JPanel implements Runnable

public
  val d: Dimension = new Dimension(Constants.BoardWidth, Constants.BoardHeight)
  #val aliens: [Alien] = [test]
  val player: Player = new Player(100, 100)
  val shot: Shot = new Shot(50, 50)

  val ALIEN_INIT_X: int = 150
  val ALIEN_INIT_Y: int = 5
  var direction: int = -1
  var deaths: int = 0


  val animator: Thread = new Thread(this)
  var inGame: boolean = True
  val message: String = "Game Over"


initBoard : void
initBoard =
  animator.start()
  #addKeyListener(new TAdapter())
  setFocusable(True)
  #setBackground(Color.BLACK)
  setDoubleBuffered(True)


addNotify : void
addNotify =
  super.addNotify()

drawAliens : Graphics -> void
drawAliens g =
  # Need to add for loops for this

drawPlayer : Graphics -> void
drawPlayer g =
  if(player.visible)
    println("TEST")
    g.drawRect(player.x, player.y, player.width, player.height)

drawShot : Graphics -> void
drawShot g =
  if(True)
    g.drawRect(shot.x, shot.y, shot.width, shot.height)

drawBombing : Graphics -> void
drawBombing g =
  # Need to add for loops for this

paintComponent : Graphics -> void
paintComponent g =
  super.paintComponent(g)
  g.setColor(Color.BLACK)
  g.fillRect(0, 0, d.width, d.height)
  g.setColor(Color.green)

  if(inGame)
    g.drawLine(0, Constants.Ground, Constants.BoardWidth, Constants.Ground)
    drawAliens(g)
    drawPlayer(g)
    drawShot(g)
    drawBombing(g)

@Override
run : void
run =
  #var beforeTime: long = System.currentTimeMillis()
  var timeDiff: long = 0
  var sleep: long = 0

